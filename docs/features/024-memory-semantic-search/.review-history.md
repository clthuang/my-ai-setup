# Review History: 024-memory-semantic-search

## Stage 1: Spec-Reviewer Review - Iteration 1 - 2026-02-20T10:30:00Z

**Reviewer:** spec-reviewer (skeptic)
**Decision:** Needs Revision

**Issues:**
- [blocker] [testability] AC1 "30-entry test fixture" undefined — no fixture file path or programmatic construction specified
- [blocker] [assumptions] Component 1 assumes .meta.json has slug field with no fallback
- [blocker] [completeness] Config validation for memory_relevance_weight unspecified
- [blocker] [testability] ACs not measurable enough (vague thresholds)
- [blocker] [assumptions] lastCompletedPhase availability unverified

**Changes Made:**
- Added Prerequisites section verifying .meta.json field availability
- Specified explicit normalization formula for prominence_score
- Added git error handling edge cases (detached HEAD, < 3 commits)
- Made all ACs measurable with concrete thresholds

---

## Stage 1: Spec-Reviewer Review - Iteration 2 - 2026-02-20T10:45:00Z

**Reviewer:** spec-reviewer (skeptic)
**Decision:** Needs Revision

**Issues:**
- [blocker] AC1 test fixture still not programmatically defined
- [blocker] .meta.json fallback handling incomplete
- [blocker] Config validation contract not specified
- [warning] Diagnostic output active/inactive format ambiguous
- [warning] Git keyword extraction unbounded

**Changes Made:**
- Defined programmatic 30-entry fixture (10 parser, 20 other, equal prominence)
- Added try/except for .meta.json, skip on missing fields
- Specified config validation: non-numeric or out-of-range → fallback 0.6 with stderr warning
- Clarified diagnostic active vs inactive format
- Added max 20 keywords, dotfile exclusion

---

## Stage 1: Spec-Reviewer Review - Iteration 3 - 2026-02-20T11:15:00Z

**Reviewer:** spec-reviewer (skeptic)
**Decision:** Approved (0 blockers, 6 warnings, 3 suggestions)

**Issues (warnings addressed):**
- [warning] [assumptions] FTS5 availability not guaranteed — fixed: updated Prerequisites wording
- [warning] [testability] AC2 contradicts Component 3 behavioral note — fixed: reworded to test fallback consistency not byte-identical parity
- [warning] [clarity] Active feature discovery duplication not acknowledged — fixed: added note about independent Python implementation
- [warning] [testability] AC1 fixture category-balance confound — fixed: all entries same category, parser entries lower prominence
- [warning] [assumptions] Git fallback chain ambiguous for <2 commits — fixed: explicit chain HEAD~3 → HEAD~1 → empty
- [warning] [clarity] Diagnostic truncation rule vague — fixed: append "..." only if exceeds 30 chars

---

## Stage 2: Phase Review - Iteration 0 - 2026-02-20T11:30:00Z

**Reviewer:** phase-reviewer (gatekeeper)
**Decision:** Approved (0 blockers, 3 warnings, 2 suggestions)

**Issues (warnings addressed):**
- [warning] PRD language/domain detection mapping not explicit — fixed: added note that git file extensions serve as implicit language detection
- [warning] PRD deviation (persistent vs ephemeral index) not in Scope Boundaries — fixed: added to Out of Scope list
- [warning] Edge case for sanitized-to-empty query — fixed: treat as context_query=None, fall back to prominence
- [suggestion] Multiple active features handling — fixed: use most recently modified .meta.json
- [suggestion] AC4 benchmark verification method — accepted as manual verification during implementation review

---
