## Stage 1: Spec-Reviewer Review - Iteration 1 - 2026-02-27T06:05:00Z

**Reviewer:** spec-reviewer (skeptic)
**Decision:** Needs Revision

**Issues:**
- [blocker] [assumptions] Brainstorm type:id format assumes YYYYMMDD-HHMMSS-slug but actual filenames use two historical formats (at: Scope > Phase B, line 35)
  Suggestion: Use full filename stem as brainstorm ID regardless of format
- [blocker] [testability] AC-6 backlog promotion format is ambiguous — 'e.g.' leaves exact modification unspecified (at: AC-6)
  Suggestion: Remove 'e.g.' and specify exact column and string format
- [blocker] [traceability] PRD-required output fields (creation date) missing from AC-1; dependency relationships missing from AC-5 (at: AC-1, AC-5)
  Suggestion: Add creation date to output format; add dependency annotations to project tree
- [warning] [assumptions] create-project.md lacks backlog_source extraction logic — Phase B understates work (at: Feasibility Assessment, Phase B)
  Suggestion: Document that create-project requires porting Handle Backlog Source pattern
- [warning] [assumptions] Brainstorm source pattern assumption overstated as 'Confirmed' — pre-010 brainstorms may lack marker (at: Key Assumptions)
  Suggestion: Downgrade to 'Confirmed for features created after feature 010'
- [warning] [testability] NFR-1 (latency) from PRD not addressed in spec success criteria (at: Success Criteria)
  Suggestion: Add performance characteristic note for Phase B writes
- [warning] [scope] Phase A label 'Read-Only Lineage Derivation' is misleading — includes backlog write-path change (at: Scope > Phase A)
  Suggestion: Rename to 'Lineage Query + Backlog Preservation'
- [warning] [clarity] Phase A downward traversal description conflates Phase B parent-based scanning with Phase A field-based reverse lookup (at: Scope > Phase A)
  Suggestion: Rewrite to specify exact field-specific scan algorithm for Phase A
- [warning] [traceability] PRD edge case 'brainstorm promoted to both project AND feature' not addressed (at: Missing from spec)
  Suggestion: Add resolved question clarifying this does not violate tree constraint
- [warning] [assumptions] Backlog mark-as-promoted assumption 'Needs verification' is on critical path (at: Key Assumptions)
  Suggestion: Audit backlog.md consumers and update status
- [suggestion] [clarity] No command interface specification for /show-lineage (at: Acceptance Criteria)
  Suggestion: Add Command Interface subsection
- [suggestion] [clarity] Phase A-to-B transition gate 'real queries' is ambiguous (at: Resolved Questions)
  Suggestion: Clarify as distinct human invocations and add gap-log.md tracking
- [suggestion] [testability] AC-11 backward compatibility test is underspecified (at: AC-11)
  Suggestion: Specify verifiable criteria (unchanged command files, additive fields only)

**Changes Made:**
- Brainstorm type:id format changed to use full filename stem (both historical formats supported)
- AC-6 backlog promotion format specified exactly: append to Description column, row stays in same table
- AC-1 output format now includes creation date; AC-5 includes dependency annotations from depends_on_features
- Phase A renamed to 'Lineage Query + Backlog Preservation'
- Phase A downward traversal rewritten with explicit field-specific scan algorithm
- Feasibility: added note about create-project requiring backlog_source port
- Feasibility: added NFR-1 latency characteristic for Phase B
- Brainstorm assumption downgraded to 'Confirmed for features created after feature 010'
- Backlog assumption upgraded to 'Confirmed' after audit (only add-to-backlog and create-feature consume backlog.md)
- Added resolved question about dual promotion (brainstorm → project AND feature)
- Added Command Interface section with full argument specification
- Phase transition gate clarified with 'distinct human invocations' and gap-log.md
- AC-11 strengthened with verifiable criteria

---

## Stage 1: Spec-Reviewer Review - Iteration 2 - 2026-02-27T06:15:00Z

**Reviewer:** spec-reviewer (skeptic)
**Decision:** Needs Revision

**Issues:**
- [blocker] [assumptions] Brainstorm type:id resolution assumes .prd.md extension but real data includes .md files — false orphans for pre-.prd.md brainstorms (at: Feasibility line 195, Scope Phase B line 37)
  Suggestion: Try both .prd.md and .md extensions in resolution
- [blocker] [assumptions] Already-deleted backlog items (00019, 00005) make AC-4 untestable — no spec coverage for missing backlog rows (at: AC-4, AC-6, Command Interface)
  Suggestion: Add AC for orphaned backlog root and error case for missing rows
- [blocker] [traceability] PRD circular-reference edge case has no spec coverage — no traversal depth guard (at: PRD Edge Cases, Command Interface, ACs)
  Suggestion: Add max 10-hop traversal depth limit with warning
- [warning] [testability] NFR-1 has no measurable threshold (at: Feasibility line 197)
  Suggestion: Define as 'no additional file reads beyond parent validation read'
- [warning] [testability] NFR-2 not made testable in spec (at: PRD NFR-2)
  Suggestion: Restate as 'single invocation with no background processing'
- [warning] [assumptions] Pre-010 brainstorms without backlog marker create false negatives in descendant queries (at: Phase A line 27, Key Assumptions line 202)
  Suggestion: Add known limitation note to AC-4
- [warning] [traceability] show-status integration left ambiguous — FR-5 partially unresolved (at: Dependencies line 215)
  Suggestion: Explicitly defer to Out of Scope
- [warning] [clarity] AC-6 multi-promotion format undefined — what if same backlog item promoted twice? (at: AC-6, Resolved Questions)
  Suggestion: Specify comma-separated format for multiple promotions
- [warning] [assumptions] No AC for create-project writing parent or backlog_source in Phase B (at: Feasibility line 194, AC-8)
  Suggestion: Add AC-13 for create-project parent field
- [warning] [scope] create-project's backlog behavior not covered by Phase A mark-as-promoted change (at: Phase A line 31)
  Suggestion: Explicitly defer create-project backlog handling to Phase B
- [suggestion] [clarity] --descendants flag description ambiguous 'instead of (or in addition to)' (at: Command Interface line 61)
  Suggestion: Remove parenthetical, standardize to 'instead of'
- [suggestion] [clarity] Phase gate tracking mechanism undefined (at: Resolved Questions line 234)
  Suggestion: Add gap-log.md summary table format

**Changes Made:**
- Brainstorm resolution now tries both .prd.md and .md extensions (type:id format and feasibility updated)
- Added AC-12 for orphaned backlog root (already-deleted items shown as orphaned)
- Added AC-14 for traversal depth guard (max 10 hops)
- Added traversal depth limit to Phase A scope
- Added error cases for depth limit exceeded and missing backlog rows
- Added AC-13 for create-project Phase B parent field and backlog_source port
- AC-6 updated with multi-promotion comma-separated format
- NFR-1 and NFR-2 added to success criteria with testable definitions
- Pre-010 known limitation note added to AC-4
- show-status integration and create-project backlog handling explicitly deferred to Out of Scope
- --descendants flag ambiguity removed
- Phase gate tracking mechanism specified with gap-log.md summary table

---

## Stage 1: Spec-Reviewer Review - Iteration 3 - 2026-02-27T06:25:00Z

**Reviewer:** spec-reviewer (skeptic)
**Decision:** Approved

**Issues (all non-blocking):**
- [warning] [traceability] PRD circular reference edge case divergence not acknowledged — added note to AC-14
- [warning] [traceability] PRD dual promotion edge case reinterpretation not flagged — added parenthetical note
- [warning] [testability] AC-6 pipe character edge case — accepted as non-issue per existing backlog conventions
- [suggestion] [clarity] AC-3 orphaned display inconsistent with AC-12 — aligned to preserve ID from path
- [suggestion] [clarity] show-status in Dependencies misleading — updated description
- [suggestion] [clarity] --feature bare ID matching undefined — accepted as design decision

**Changes Made:**
- AC-14 note added explaining PRD divergence rationale (Phase A vs Phase B mitigation)
- Dual promotion resolved question annotated with PRD correction explanation
- AC-3 orphaned display aligned with AC-12 (ID derived from path, 'unknown' reserved for malformed refs)
- show-status dependency description updated to 'NOT modified by this feature'

---

## Stage 2: Phase Review - Iteration 0 - 2026-02-27T06:30:00Z

**Reviewer:** phase-reviewer (gatekeeper)
**Decision:** Approved

**Issues (all non-blocking):**
- [warning] Problem statement multi-sentence — accepted (detail aids comprehension)
- [warning] Command Interface prescriptive — accepted (exact CLI syntax helps design, not constraining)
- [warning] SC-11 NFR-1 is Phase B only — annotated with Phase B gating note
- [suggestion] AC-5 depends_on_features scanning not in scope list — added to Phase A scope
- [suggestion] gap-log.md not in dependencies — accepted as implicit Phase A deliverable

**Changes Made:**
- SC-11 annotated with Phase B gating note
- Phase A scope updated with depends_on_features annotation bullet

---
